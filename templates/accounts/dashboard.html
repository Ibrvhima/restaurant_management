{% extends "base/base.html" %}
{% load static %}

{% block content %}
<div class="flex h-screen bg-gray-100">
    <!-- Mobile sidebar overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden hidden"></div>
    
    <!-- Sidebar -->
    <aside id="sidebar" class="fixed left-0 top-0 h-full w-64 bg-white shadow-lg transform -translate-x-full transition-transform duration-300 z-50 lg:translate-x-0 lg:static lg:z-0">
        <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-6">Tableau de bord</h2>
            
            <nav class="space-y-2">
                <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg">
                    <i class="fas fa-home mr-3"></i> Accueil
                </a>
                <a href="{% url 'accounts:admin_user_list' %}" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fas fa-users mr-3"></i> Utilisateurs
                </a>
                <a href="{% url 'orders:commande_list' %}" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fas fa-utensils mr-3"></i> Commandes
                </a>
                <a href="{% url 'payments:paiement_list' %}" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fas fa-credit-card mr-3"></i> Paiements
                </a>
                <a href="{% url 'expenses:depense_list' %}" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg">
                    <i class="fas fa-receipt mr-3"></i> Dépenses
                </a>
            </nav>
        </div>
    </aside>
    
    <!-- Main content -->
    <main class="flex-1 lg:ml-0 overflow-y-auto">
        <!-- Mobile header -->
        <header class="lg:hidden bg-white shadow-sm p-4 flex items-center justify-between">
            <button id="sidebar-toggle" class="p-2 rounded-lg hover:bg-gray-100">
                <i class="fas fa-bars text-gray-600"></i>
            </button>
            <h1 class="text-lg font-semibold text-gray-800">Dashboard</h1>
        </header>
        
        <div class="p-4 lg:p-8">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Bienvenue sur le tableau de bord</h1>
            
            <!-- Stats grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Commandes</p>
                            <p class="text-2xl font-bold text-gray-800">24</p>
                        </div>
                        <i class="fas fa-shopping-cart text-blue-500 text-2xl"></i>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Revenus</p>
                            <p class="text-2xl font-bold text-gray-800">1,250€</p>
                        </div>
                        <i class="fas fa-euro-sign text-green-500 text-2xl"></i>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Utilisateurs</p>
                            <p class="text-2xl font-bold text-gray-800">8</p>
                        </div>
                        <i class="fas fa-users text-purple-500 text-2xl"></i>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600">Tables</p>
                            <p class="text-2xl font-bold text-gray-800">12</p>
                        </div>
                        <i class="fas fa-table text-orange-500 text-2xl"></i>
                    </div>
                </div>
            </div>
            
            <!-- Quick actions -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">Actions rapides</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <a href="{% url 'orders:nouvelle_commande' %}" class="flex items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition">
                        <i class="fas fa-plus-circle text-blue-600 mr-3"></i>
                        <span class="text-gray-700">Nouvelle commande</span>
                    </a>
                    
                    <a href="{% url 'payments:nouveau_paiement' %}" class="flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition">
                        <i class="fas fa-plus-circle text-green-600 mr-3"></i>
                        <span class="text-gray-700">Nouveau paiement</span>
                    </a>
                    
                    <a href="{% url 'expenses:nouvelle_depense' %}" class="flex items-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition">
                        <i class="fas fa-plus-circle text-red-600 mr-3"></i>
                        <span class="text-gray-700">Nouvelle dépense</span>
                    </a>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebar = document.getElementById('sidebar');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    
    function toggleSidebar() {
        sidebar.classList.toggle('-translate-x-full');
        sidebarOverlay.classList.toggle('hidden');
    }
    
    sidebarToggle.addEventListener('click', toggleSidebar);
    sidebarOverlay.addEventListener('click', toggleSidebar);
});
</script>

<style>
/* Hide base template elements on dashboard */
.base-header, .base-footer, .base-navbar {
    display: none !important;
}

/* Ensure full height layout */
html, body {
    height: 100%;
}

/* Mobile-first responsive */
@media (max-width: 1024px) {
    .lg\:ml-0 {
        margin-left: 0;
    }
    
    .lg\:hidden {
        display: none;
    }
    
    .lg\:static {
        position: fixed;
    }
    
    .lg\:z-0 {
        z-index: 50;
    }
}
</style>
{% endblock %}
